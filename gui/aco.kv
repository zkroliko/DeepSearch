AppScreen:

<AppScreen@BoxLayout>:
    map: map_widget_id
    Menu:
        width: root.width
    Map:  # 5
        id: map_widget_id
    Label:
        font_size: 18
        center_x: root.width / 13
        top: root.top - 15
        text: "Iterations: "
    Label:
        font_size: 18
        center_x: root.width / 13
        top: root.top - 35
        text: str(app.iteration) + "/" + str(app.all_iterations)
    Label:
        font_size: 18
        center_x: root.width / 13
        top: root.top - 75
        text: "Last reward: "
    Label:
        font_size: 18
        center_x: root.width / 13
        top: root.top - 95
        text: str(app.last_reward)
    Label:
        font_size: 18
        center_x: root.width / 13
        top: root.top - 135
        text: "Avg last 20: "
    Label:
        font_size: 18
        center_x: root.width / 13
        top: root.top - 155
        text: str(app.avg_last_reward)
    Label:
        font_size: 18
        center_x: root.width / 13
        top: root.top - 195
        text: "Best reward: "
    Label:
        font_size: 18
        center_x: root.width / 13
        top: root.top - 215
        text: str(app.best_reward)


<Menu@BoxLayout>:
    BoxLayout:
        height: "40dp"  # 1
        size_hint_y: None
        Button:
            text: "Settings"
            size_hint_x: 25
            on_release: app.open_settings()
        Button:
            text: "Run training"
            size_hint_x: 25
            on_release: app.run_training()
        Button:
            text: "Test"
            size_hint_x: 25
            on_release: app.run_test()
        Button:
            text: "Replay"
            size_hint_x: 25
            on_release: app.run_replay()